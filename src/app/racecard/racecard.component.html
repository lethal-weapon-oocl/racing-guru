<div class="m-10 px-10 flex justify-between">
  <div class="relative inline-block"
       (mouseover)="isDropdownHover=true"
       (mouseleave)="isDropdownHover=false"
  >
    <div class="px-10 py-3 bg-gray-700 text-xl rounded-full noselect">
      <span class="pr-3">
        <i class="fa fa-chevron-{{isDropdownHover ? 'up' : 'down'}}"></i>
      </span>
      {{currentMeeting}}
    </div>
    <div class="absolute w-full bg-gray-800 shadow-xl rounded-xl text-lg"
         [class.hidden]="!isDropdownHover"
         [class.block]="isDropdownHover"
    >
      <div *ngFor="let meeting of meetings"
           class="px-10 py-3"
           (click)="select(meeting)"
           [class.cursor-default]="meeting === currentMeeting"
           [class.cursor-pointer]="meeting !== currentMeeting"
           [class.hover:bg-gray-700]="meeting !== currentMeeting"
      >
        <span class="pr-3"
              [class.opacity-0]="meeting !== currentMeeting"
        >
          <i class="fa fa-check"></i>
        </span>
        {{meeting}}
      </div>
    </div>
  </div>
  <div class="pt-3 noselect">
    <span class="pr-5 text-2xl">
      NEXT RACE&#58;
    </span>
    <span class="text-3xl text-red-600">
      300 sec
    </span>
  </div>
</div>

<div class="m-3 table-fixed">
  <table class="border-collapse border border-gray-500 noselect">
    <thead>
    <th class="w-20 border border-gray-600">
      <i class="fa fa-dollar fa-lg"></i>
    </th>
    <th *ngFor="let jockey of jockeys"
        class="w-20 py-3 border border-gray-600 text-lg"
    >
      {{jockey}}
    </th>
    </thead>
    <tbody>
    <tr *ngFor="let race of races">
      <td class="py-2 border border-gray-700 text-center "
          [class.border-b-red-600]="race.raceNum == 5"
      >
        <div class="">
          {{race.raceNum}}
          {{race.raceClass[0]}}{{race.raceClass[race.raceClass.length - 1]}}
        </div>
        <div class="">
          {{race.distance}}
        </div>
      </td>
      <td *ngFor="let jockey of jockeys"
          class="border border-gray-700 text-center text-sm"
          [class.border-b-red-600]="race.raceNum == 5"
          [class.text-red-600]="(jockey == 'PZ' || jockey == 'FEL') && race.raceNum < 6"
          [class.text-green-600]="(jockey == 'DSS' || jockey == 'PMF') && race.raceNum < 6"
          [class.text-blue-600]="(jockey == 'LDE' || jockey == 'BV') && race.raceNum < 6"
          [class.text-purple-600]="(jockey == 'BHW' || jockey == 'MMR') && race.raceNum < 6"
      >
        <div *ngIf="(jockey[0] < 'G' && race.raceNum % 2 == 0) || (jockey[0] > 'J' && race.raceNum % 2 == 1)"
             class="flex flex-col"
        >
          <div class="flex flex-row justify-between">
            <div class="w-5 h-5 rounded-full border border-gray-700">
              {{(jockeys.indexOf(jockey) + race.raceNum) % 12}}
            </div>
            <div>
              <a href="http://localhost:8080" target="_blank">B</a>
            </div>
            <div class="w-5 h-5 border border-gray-700">
              {{(jockeys.indexOf(jockey) + 2 * race.raceNum) % 12}}
            </div>
          </div>
          <div class="">
             HDA
          </div>
          <div class="flex flex-row justify-around">
            <div class=""
                 [class.font-bold]="race.raceNum == 6"
                 [class.text-green-600]="race.raceNum == 6"
            >
              {{(jockeys.indexOf(jockey) + 7 * race.raceNum) % 30 + 3}}
            </div>
            <div class="">
              {{(jockeys.indexOf(jockey) + 5 * race.raceNum) % 7 + 1 + jockeys.indexOf(jockey) / 10}}
            </div>
          </div>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
</div>
